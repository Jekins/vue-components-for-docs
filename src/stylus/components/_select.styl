@import '../bootstrap'
@import '../theme'

selects($material)
  &.vf-input-group
    &--editable,
    &--overflow,
    &--segmented
      .vf-input-group__input:hover
        background: $material.cards
      
      &.vf-input-group--focused .vf-input-group__input
        background: $material.cards

theme(selects, "vf-input-group--select")

.vf-input-group--select
  // TODO: revisit this
  .vf-input-group--select__autocomplete
    display: block
    height: 0px

    &--index
      opacity: 0 !important

  .vf-input-group__append-icon
    transition: .3s $transition.linear-out-slow-in

    &.vf-input-group__icon-clearable
      transition: none

  &:not(.vf-input-group--dirty),
  &.vf-input-group--focused
    .vf-input-group--select__autocomplete
      padding-bottom: 1px
      height: 30px

  &.vf-input-group--focused
    .vf-input-group--select__autocomplete
      display: inline-block
      opacity: 1

    &.vf-input-group--open
      .vf-input-group__append-icon:not(.vf-input-group__icon-clearable)
        transform: rotate(-180deg)

  .vf-input-group__input
    cursor: pointer

  &.vf-input-group--disabled
    cursor: default
    pointer-events: none

.vf-input-group--select
  .vf-input-group__selections
    align-items: center
    display: flex
    flex-wrap: wrap
    position: relative
    width: 100%

    &__comma
      display: inline-flex
      font-size: $input-font-size
      padding: 3px 4px 3px 0

      &--active
        color: inherit

  .vf-menu
    display: inline

  .vf-fade-transition-leave-active
    position: absolute
    left: 0

  &.vf-input-group--autocomplete.vf-input-group--search-focused
    .vf-input-group__selections__comma
      display: none

.vf-input-group--autocomplete
  .vf-input-group__selections
    cursor: text


.vf-input-group
  &.vf-input-group--overflow,
  &.vf-input-group--editable,
  &.vf-input-group--segmented
    padding: 0

    .vf-input-group__append-icon
      padding: 0

    .vf-input-group__selections,
    input
      height: 48px

    // Handle weird transition issue
    .vf-input-group__selections__comma, input
      top: 0
      left: 0
      padding-left: 16px

    .vf-input-group__selections
      width: calc(100% - 55px)

      .vf-btn
        border-radius: 0
        margin: 0
        height: 48px
        width: 100%

        .vf-btn__content
          justify-content: start

    .vf-input-group__input
      transition: .3s $transition.swing

    &.vf-input-group--focused
      .vf-input-group__input
        elevation(8)

    label
      left: 16px !important
      top: 9px !important

    .vf-input-group__details
      &:after
        display: none

    .vf-input-group__input
      padding: 0

      &:before
        content: ''
        position: absolute
        left: 0
        width: 100%
        height: 1px
        top: 0
        transition: .3s $transition.swing

    .vf-input-group__append-icon
      width: 55px

  &--segmented .vf-input-group__input,
  &--editable .vf-input-group__input:hover,
  &.vf-input-group--focused.vf-input-group--editable .vf-input-group__input
    &:after
      background-color: rgba(0,0,0,0.12)
      content: ''
      position: absolute
      right: 55px
      height: 48px
      top: 0
      width: 1px

.vf-menu__content--select
  // // IE11 Fix for overflow
  .vf-input-group--selection-controls__ripple
    display: none

.vf-menu__content--autocomplete
    border-radius: 0

    > .vf-card
      border-radius: 0
